<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script charset="utf-8" type="text/javascript">
        // AJAX: 同源策略
        // JSONP: 非同源策略（跨域请求）

        // 协议、域名、端口号相同：同源
        // http://www.baidu.com:80/

        // JSONP(JSON with Padding)
        // http://blog.csdn.net/wall1999/article/details/55509429
        // 利用script的src跨域请求解决非同源问题
        // 原理解析（服务器支持JSONP）
        // 1)把需要请求数API接口赋值给script的src
        // 2)把当前页面中的某一函数名当参数值传递给服务器(URL问号传参)
        // 3)服务器接收到请求后，把传递进来的函数名和服务器回传的数据拼接成一个字符串。例如传递进去的是fn，
        // 返回数据'fn([{"name":"zhufeng"}])' -> '传递的函数名(需要返回的数据)'
        // 4)服务器把准备的数据通过HTTP协议返回给客户端，及客户端执行fn(resData)
        function fn(data) {
            console.log(data);
        };
    </script>
    <script charset="utf-8" type="text/javascript" src="http://matchweb.sports.qq.com/kbs/calendar?columnId=100000&callback=fn"></script>
    <script charset="utf-8" type="text/javascript" src="../js/jquery-1.12.4.min.js"></script>
    <script charset="urf-8" type="text/javascript">
        // jq的jsonp
        $.ajax({
            url: "data.text",
            // type: "get",
            dataType: "jsonp", //格式为jsonp!
            // data: null,
            // async: true,
            // cache: false, // url添加随机数，get请求不要缓存
            jsonpCallback: "fn", //自定义传递给服务器测函数名为fn,而不是jquery生成的随机函数名
            jsonp: "cb", //把传递函数名的形参callback变为cb
            // http://matchweb.sports.qq.com/kbs/calendar?columnId=100000&cb=fn
            success: function(data) {
                console.log(data);
            },
            error: function(e) {}
        })
    </script>
</body>

</html>